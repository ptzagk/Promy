<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Upperux</title>
</head>
<body>
    <script src="src/PromyState.js"></script>
    <script>
        var store =  PromyState({})


            store.subscribe(
                (state)=>{
                    console.log(state)
                },
                (error)=>{
                    console.log('error')
                },
                (state,action)=>{
                    console.log(state,action)
                }
            )

            store.action((state,{type})=>{
                throw 10;
                switch(type){
                    case 'INIT_STATE':
                        return fetch('https://jsonplaceholder.typicode.com/posts').then(response=>response.json())
                    break;
                    default :
                          return state;
                }
            })

            store.dispatch({type:'INIT_STATE'})

    </script>
</body>
</html>
